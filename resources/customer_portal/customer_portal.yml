post:
  tags:
    - Subscriptions - Customer Portal
  operationId: createCustomerPortal
  summary: Create customer portal
  description: Creates a customer portal for a subscription. If a portal already exists, returns the existing one.
  responses:
    201:
      description: Customer portal created successfully
      content:
        application/vnd.conekta-v2.2.0+json:
          schema:
            $ref: '../../schemas/customer_portal/customer_portal_response.yml'
      headers:
        Date:
          description: The date and time that the response was sent
          schema:
            type: string
            example: "Fri, 03 Feb 2023 16:57:48 GMT"
        Content-Type:
          description: The format of the response body
          schema:
            type: string
            example: "application/json; charset=utf-8"
        Content-Length:
          description: The length of the response body in bytes
          schema:
            type: string
            example: "2737"
        Connection:
          description: The type of connection used to transfer the response
          schema:
            type: string
            example: "keep-alive"
        Conekta-Media-Type:
          schema:
            type: string
            example: conekta-v2.2.0; format=application/json
    404:
      $ref: '../errors/404.yml'
    401:
      $ref: '../errors/401.yml'
    422:
      $ref: '../errors/422.yml'
  security:
    - bearerAuth: []
  parameters:
    - in: path
      name: subscription_id
      description: Identifier of the subscription resource
      required: true
      schema:
        type: string
        example: "sub_2tGzG1GxtDAZHEGPH"
    - $ref: '../../parameters/commons/headers/accept_language.yml'
    - $ref: '../../parameters/commons/headers/x_child_company_id.yml'
get:
  tags:
    - Subscriptions - Customer Portal
  operationId: getCustomerPortal
  summary: Get customer portal
  description: Retrieves the customer portal for a subscription
  responses:
    200:
      description: Customer portal retrieved successfully
      content:
        application/vnd.conekta-v2.2.0+json:
          schema:
            $ref: '../../schemas/customer_portal/customer_portal_response.yml'
      headers:
        Date:
          description: The date and time that the response was sent
          schema:
            type: string
            example: "Fri, 03 Feb 2023 16:57:48 GMT"
        Content-Type:
          description: The format of the response body
          schema:
            type: string
            example: "application/json; charset=utf-8"
        Content-Length:
          description: The length of the response body in bytes
          schema:
            type: string
            example: "2737"
        Connection:
          description: The type of connection used to transfer the response
          schema:
            type: string
            example: "keep-alive"
        Conekta-Media-Type:
          schema:
            type: string
            example: conekta-v2.2.0; format=application/json
    404:
      $ref: '../errors/404.yml'
    401:
      $ref: '../errors/401.yml'
  security:
    - bearerAuth: []
  parameters:
    - in: path
      name: subscription_id
      description: Identifier of the subscription resource
      required: true
      schema:
        type: string
        example: "sub_2tGzG1GxtDAZHEGPH"
    - $ref: '../../parameters/commons/headers/accept_language.yml'
    - $ref: '../../parameters/commons/headers/x_child_company_id.yml'

