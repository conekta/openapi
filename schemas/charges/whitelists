openapi: 3.0.0
servers:
  # Added by API Auto Mocking Plugin
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/JORGEALONSO_1/whitelists/1.0.0
info:
  version: "1.0.0"
  title: home-iot-api
  description: The API for the EatBacon IOT project
paths:
  /customers/whitelist:
    get:
      tags:
        - Whitelists
      description: returns all rules
      responses:
        '200':
          description: All the rules
          content:
            application/json:
              schema:
                  $ref: '#/components/schemas/RiskRulesList'
    post:
      tags:
        - Whitelists
      operationId: create new rule
      responses:
        '200':
          description: successfully registered rule
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RiskRulesData'
    delete:
      tags:
        - WhiteList
      operationId: delete requested rule
      responses:
        '200':
          description: successfully deleted rule
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteRiskRulesData'
  /customers/blacklist:
    get:
      tags:
        - Blacklist
      description: returns all rules
      responses:
        '200':
          description: All the rules
          content:
            application/json:
              schema:
                  $ref: '#/components/schemas/RiskRulesList'
    post:
      tags:
        - Blacklist
      operationId: create new rule
      responses:
        '200':
          description: successfully registered rule
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RiskRulesData'
    delete:
      tags:
        - Blacklist
      operationId: delete requested rule
      responses:
        '200':
          description: successfully deleted rule
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteRiskRulesData'
components:
  schemas:
    RiskRulesList:
      type: object
      properties:
        has_more:
          type: boolean
          value: true
        total:
          type: integer
          format: int32
          minimum: 0
          maximum: 100
        object:
          type: string
          example: 'list'
        data:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                example: '2fw8EWJusiRrxdPzT'
              type:
                type: string
                example: 'email'
              value:
                type: string
                example: 'email@example.com'
              description:
                type: string
                example: 'secure customer example@example.com'
    RiskRulesData:
      type: object
      properties:
        description:
          type: string
          format: string
          example: 'description'
        type:
          type: string
          format: string
          example: 'email | phone | card_token'
        value:
          type: string
          format: string
          exampole: 'value'
    DeleteRiskRulesData:
      type: object
      properties:
        id:
          type: string
          example: '2fw8EWJusiRrxdPzT'
          