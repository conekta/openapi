payment_method_pbb_payment:
  allOf:
    - $ref: charge_payment_method_response.yml#/payment_method
    - type: object
      title: charge_data_payment_method_pbb_payment_response
      description: use for pbb payment responses
      required:
          - deep_link
          - expires_at
          - product_type
          - redirect_url
          - reference
      properties:
        deep_link:
          type: string
          description: "Deep link for the payment"
          example: "https://mgm.bbva.mx/WA3b/pbb?AGREEMENT=002484374&AMOUNT=1&CONCEPT=PagoDirecto&CURRENCY=MXN&REFERENCE=22277523174328893295"
        expires_at:
          type: integer
          example: 1683053729
          format: int64
          minimum: 0
          description: "Expiration date of the charge"
        product_type:
          type: string
          description: "Product type of the charge"
          examples:
            - value: "bbva_pay_by_bank"
        redirect_url:
          type: string
          description: "URL to redirect the customer to complete the payment"
          example: "https://example.com/redirect"
        reference:
          type: string
          description: "Reference for the payment"
          example: "22277523174328893295"
